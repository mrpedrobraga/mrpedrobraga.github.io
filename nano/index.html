<!DOCTYPE html>
<html lang="en" class="inverted" style="--dark:#1a1e27;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mrpedrobraga ~/nano</title>

    <link rel="stylesheet" type="text/css" href="../lib/atom-one-dark.min.css">
    <script src="../lib/highlight.min.js"></script>
    <script src="./highlight_nano.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../main.css">
</head>
<body>
    <div class="reading-progress">
        <div class="reading-progress-indicator"></div>
    </div>
    <script>
        function toggleNav() {
            let n = document.querySelector("#nav-aside")
            n.classList.toggle("expand")
        }
    </script>
    <div class="sidebar-burger" onclick="toggleNav()"></div>
    <header class="small">
        <h1>nano</h1>
        <p style="opacity:0.2;">(This documentation in very early development)</p>
    </header>
    <div class="flex h gap page_container">
        <aside id="nav-aside">
            <h2>nano</h2>
            <ul>
                <li><a href=".?article=overview">What is nano?</a></li>
                <li><a href=".?article=design_goals">Design Goals</a></li>

                <h3>Learn nano<br>Season One</h3>

                <li><a href=".?article=introduction">Introduction</a></li>
                <li><a href=".?article=syntax">Syntax</a></li>
                <li><a href=".?article=primitives">Primitives</a></li>
                <li><a href=".?article=operations">Operations</a></li>
                <li><a href=".?article=variables">Variables</a></li>
                <li><a href=".?article=custom_types">Custom Types</a></li>
                <li><a href=".?article=more_type_magic">More Type Magic</a></li>
                <li><a href=".?article=control_flow">Control Flow</a></li>
                <li><a href=".?article=reference_types">Reference Types</a></li>
                <li><a href=".?article=functions">Functions</a></li>
                <li><a href=".?article=importing">Importing</a></li>
                <li><a href=".?article=errors">Errors</a></li>

                <h3>Season Two</h3>

                <li><a href=".?article=unavailable">Compilation<br>Targets</a></li>
                <li><a href=".?article=unavailable">Testing</a></li>
                <li><a href=".?article=unavailable">Asyncrhonicity</a></li>
                <li><a href=".?article=unavailable">Constraints</a></li>
                <li><a href=".?article=unavailable">Annotations</a></li>
                <li><a href=".?article=unavailable">Macros<br>& Queries</a></li>
            </ul>
        </aside>
        <main>
            <div class="content centred appear">
                
            </div>
        </main>
        <aside></aside>
    </div>
    <footer class="appear">
        <h3>Powered by evil and spite!</h3>
    </footer>

    <!-- Deferred scripts! -->

    <script>
        function changeArticle(path) {
            fetch("./articles/" + path + ".md")
            .then(
                (response) => response.text()
            ).then(
                (source) => {
                    document.querySelector('.content').innerHTML =
                    marked.parse(source);
    
                    hljs.highlightAll();
                }
            )
        }

        const queryParamsString = window.location.search.substr(1);
        const queryParams = queryParamsString
            .split('&')
            .reduce((accumulator, singleQueryParam) => {
                const [key, value] = singleQueryParam.split('=');
                accumulator[key] = decodeURIComponent(value);
                return accumulator;
            }, {});

        changeArticle(queryParams.article ?? "overview")
    </script>
</body>
</html>