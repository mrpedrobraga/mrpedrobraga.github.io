<!DOCTYPE html>
<html lang="en" class="inverted" style="--dark:#1a1e27;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mrpedrobraga ~/nano</title>

    <link rel="stylesheet" type="text/css" href="../lib/atom-one-dark.min.css">
    <script src="../lib/highlight.min.js"></script>
    <script src="./highlight_gdscript.js"></script>
    <script src="./highlight_nano.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../main.css">
</head>

<body>
    <div class="reading-progress">
        <div class="reading-progress-indicator"></div>
    </div>
    <script>
        function toggleNav() {
            let n = document.querySelector("#nav-aside")
            n.classList.toggle("expand")
        }
    </script>
    <div class="sidebar-burger" onclick="toggleNav()">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ffffff"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </div>
    <header class="small">
        <h1>nano</h1>
        <p style="opacity:0.2;">(This documentation in very early development)</p>
    </header>
    <div class="flex h gap page_container">
        <aside id="nav-aside">
            <h2>nano</h2>
            <ul>
                <li><a href=".?article=overview">What is nano?</a></li>

                <h3>Season 1</h3>
                <li><a href=".?article=foundation">Foundation</a></li>
                <li><a href=".?article=data">Data</a></li>
                <li><a href=".?article=expressions">Expressions</a></li>
                <li><a href=".?article=bindings">Bindings</a></li>
                <li><a href=".?article=functions">Functions</a></li>
                <li><a href=".?article=types">Types</a></li>
                <li><a href=".?article=control_flow">Control Flow</a></li>
                <li><a href=".?article=constraints">Constraints</a></li>
                <li><a href=".?article=pattern_matching">Pattern Matching</a></li>
                <li><a href=".?article=state">State</a></li>
                <li><a href=".?article=modules">Modules</a></li>
            </ul>
        </aside>
        <main>
            <div class="content centred appear">
                Loading...
            </div>
        </main>
        <aside></aside>
    </div>
    <footer class="appear">
        <h3>Powered by evil and spite!</h3>
    </footer>

    <!-- Deferred scripts! -->

    <script>
        function changeArticle(path) {
            fetch("./articles/" + path + ".md")
                .then(
                    (response) => response.text()
                ).then(
                    (source) => {
                        document.querySelector('.content').innerHTML =
                            marked.parse(source);

                        hljs.highlightAll();
                    }
                )
        }

        const queryParamsString = window.location.search.substr(1);
        const queryParams = queryParamsString
            .split('&')
            .reduce((accumulator, singleQueryParam) => {
                const [key, value] = singleQueryParam.split('=');
                accumulator[key] = decodeURIComponent(value);
                return accumulator;
            }, {});

        changeArticle(queryParams.article ?? "overview")
    </script>
</body>

</html>